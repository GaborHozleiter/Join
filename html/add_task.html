<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="../templates/sidemenu.js"></script>
		<link rel="shortcut icon" href="../img/Join-Logo.png" type="image/x-icon" />
		<link rel="stylesheet" href="../css/style.css" />
		<link rel="stylesheet" href="../css/fonts.css" />
		<link rel="stylesheet" href="../css/sidemenu.css" />
		<link rel="stylesheet" href="../css/add_task.css" />
		<link rel="stylesheet" href="../css/add_task_resp.css" />
		<title>Add Task</title>
	</head>
	<body onload="initAddTask(); setPrio('medium')" onclick="closeSidemenu()">
		<div id="slider-bg" class="d-none"></div>
		<div w3-include-html="../templates/sidemenu.html"></div>
		<div class="main-content">
			<h1>Add Task</h1>
			<form id="add-task-form" onsubmit="return createTask(event)">
				<div class="task-container d-flex">
					<div class="left-col task-col d-flex">
						<div class="d-flex-col">
							<label for="title-input" class="req-label">Title</label>
							<input
								type="text"
								id="title-input"
								class="title-input"
								autocomplete="off"
								placeholder="Enter a title" />
							<div class="error d-none" id="error-title">This field is required</div>
						</div>
						<div class="d-flex-col">
							<label for="description-input">Description</label>
							<textarea
								name="description-input"
								id="description-input"
								class="description-input"
								placeholder="Enter a Description"
								cols="30"
								rows="10"
								maxlength="250"></textarea>
						</div>
						<div class="d-flex-col m-0 relative">
							<label for="assigned-to-input">Assigned to</label>
							<div class="input-container" onclick="openUserList()">
								<input
									type="text"
									id="assigned-to-input"
									autocomplete="off"
									class="assigned-to-input"
									placeholder="Select contacts to assign"
									onkeyup="filterUsers()" />
								<img
									src="../img/arrow-drop-down.png"
									id="assigned-arrow"
									onclick="event.stopPropagation(); openUserList()" />
							</div>
							<div id="user-list" class="d-none absolute"></div>
							<div id="selected-users"></div>
						</div>
					</div>
					<span class="mid-line"></span>
					<div class="right-col task-col d-flex">
						<div class="d-flex-col">
							<label for="due-date-input" class="req-label">Due date</label>
							<input
								type="date"
								id="due-date-input"
								class="due-date-input"
								placeholder="dd/mm/yyyy"
								onfocus="this.showPicker()" />
							<div class="error d-none" id="error-due-date">
								This field is required
							</div>
						</div>
						<div class="d-flex-col m-0">
							<label for="prio-container">Prio</label>
							<div id="prio-container" class="prio-container d-flex">
								<div class="prio d-flex" id="urgent" onclick="setPrio('urgent')">
									<p>Urgent</p>
									<img src="../img/prio-urgent.png" class="prio-image" />
								</div>
								<div
									class="prio d-flex active-medium"
									id="medium"
									onclick="setPrio('medium')">
									<p>Medium</p>
									<img src="../img/active-medium.png" class="prio-image" />
								</div>
								<div class="prio d-flex" id="low" onclick="setPrio('low')">
									<p>Low</p>
									<img src="../img/prio-low.png" class="prio-image" />
								</div>
							</div>
						</div>
						<div class="d-flex-col m-0">
							<label for="category-input" class="req-label">Category</label>
							<select
								name="category-input"
								id="category-input"
								class="category-input">
								<option value="1" disabled selected hidden>
									Select task category
								</option>
								<option value="User Story">User Story</option>
								<option value="Technical Task">Technical Task</option>
							</select>
							<div class="error d-none" id="error-category">
								This field is required
							</div>
						</div>
						<div class="d-flex-col m-0">
							<label for="subtask-input" class="">Subtasks</label>
							<div class="input-container">
								<input
									type="text"
									id="subtask-input"
									class="subtask-input"
									autocomplete="off"
									placeholder="Add new subtask"
									onclick="activateInput()"
									onkeydown="checkSubmit(event)"
									size="10" />
								<img
									src="../img/add-subtask.png"
									onclick="event.stopPropagation(); activateInput(); setFocus()"
									id="add-subtask"
									class="add-subtasks-btn" />
								<div
									id="subtask-input-actions"
									class="d-flex align-c add-subtasks-btn d-none">
									<img
										src="../img/check-blue.png"
										class="subtask-actions submit-input"
										onclick="submitSubtask('subtask-input')" />
									<span class="vertical-line-sub"></span>
									<img
										src="../img/close.png"
										class="subtask-actions"
										onclick="deactivateInput()" />
								</div>
							</div>
							<ul id="subtask-container"></ul>
						</div>
					</div>
				</div>
			</form>
			<div class="bottom-section d-flex">
				<div class="required-info">This field is required</div>
				<div class="add-task-btns d-flex">
					<button class="clear-field" type="reset" onclick="resetForm()">
						<p>Clear</p>
						<img src="../img/close.png" alt="" />
						<img src="../img/close-hover.png" class="d-none" />
					</button>
					<button
						class="create-task"
						onclick="createTask()"
						type="button"
						id="add-task-button">
						<p>Create Task</p>
						<img src="../img/create-task.png" alt="" />
					</button>
				</div>
			</div>
			<div class="task-added-slider">
				<p>Task added to board</p>
				<img src="../img/tasks.png" alt="" />
			</div>
		</div>
		<script src="../js/script.js"></script>
		<script src="../js/add-task.js"></script>
		<script src="../js/add_task_html.js"></script>
	</body>
</html>
